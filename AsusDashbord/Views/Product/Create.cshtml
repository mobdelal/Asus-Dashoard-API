@model CreateProductDTO



<div class="card card-custom-font  bg-primary  p-1" style="background-color: #ced4da">
    <div class="card-header">
        <h5 class="card-title custom-title mb-0 text-white">Create Product</h5>
    </div>
    <div class="card-body bg-light">
        <form asp-action="Create" enctype="multipart/form-data">
            <div class="row mb-3">
                <!-- Added mb-3 for bottom margin -->
                <!-- Name -->
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Name">Arabic Name</label>
                        <div class="bordered-input">
                            <input asp-for="Name" class="form-control" />
                        </div>
                        @* <small class="form-text text-muted">Arabic</small> *@
                        <span asp-validation-for="Name" class="text-danger"></span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Name_EN">English Name</label>
                        <div class="bordered-input">
                            <input asp-for="Name_EN" class="form-control" />
                        </div>
                        @* <small class="form-text text-muted">English</small> *@
                        <span asp-validation-for="Name_EN" class="text-danger"></span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Price">Price</label>
                        <div class="bordered-input">
                            <input asp-for="Price" class="form-control" />
                        </div>
                        <span asp-validation-for="Price" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <!-- Added mb-3 for bottom margin -->
                <!-- Category Dropdown -->
                <div class="col-md-4">
                <div class="form-group ">
                    <label for="CategoryId">Sub Category</label>
                    <select asp-for="SubCategoryId" class="form-control">
                        <option value="">Select Category</option>
                        @foreach (var category in ViewBag.Categories)
                        {
                            <option value="@category.Id">@category.Name_EN</option>
                        }
                    </select>
                    <span asp-validation-for="SubCategoryId" class="text-danger"></span>
                </div>
                </div>
                



                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Unit_Instock">Units In Stock</label>
                        <div class="bordered-input">
                            <input asp-for="Unit_Instock" class="form-control" />
                        </div>
                        <span asp-validation-for="Unit_Instock" class="text-danger"></span>
                    </div>
                </div>

                <!-- Image Upload -->
                <div class="form-group col">
                    <label for="ImageData">Product Main Image</label>
                    <div class="bordered-placeholder">
                    <input asp-for="ImageData" type="file" class="form-control" />
                    </div>
                    <span asp-validation-for="ImageData" class="text-danger"></span>
                </div>
            </div>
            <div class="row mb-3">
                <!-- Added mb-3 for bottom margin -->
                <!-- Description_EN -->
                <div class="col-md-4">
                    <div class="form-group">
                        <label for="Description_EN">English Description</label>
                        <textarea asp-for="Description_EN" class="form-control"></textarea>
                        @* <small class="form-text text-muted">English</small> *@
                        <span asp-validation-for="Description_EN" class="text-danger"></span>
                    </div>
                </div>

                <!-- Description -->
                
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="Description">Arabic Description</label>
                            <textarea asp-for="Description" class="form-control"></textarea>
                            @* <small class="form-text text-muted">Arabic</small> *@
                            <span asp-validation-for="Description" class="text-danger"></span>
                        </div>
                    </div>

                <!-- Discounts Dropdown style="width: 459px; height: 62px;"-->
                <div class="form-group col">
                    <label for="Discounts">Discounts</label>
                    <select asp-for="Discounts" class="form-control" style="max-height: 60px;" asp-items="@(new SelectList(ViewBag.Discounts, "Id", "Name_EN"))"></select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary me-2 custom-button">Create</button>
            <a href="@Url.Action("Index", "Product")" class="btn btn-secondary custom-button">Back to List</a>

        </form>
    </div>
</div>


@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}
@*  <script type="text/javascript">
//     $(document).ready(function () {
//         $('#CategoryId').change(function () {
//             var categoryId = $(this).val();
//             var $subCategoryDropdown = $('#SubCategoryId');

//             $subCategoryDropdown.empty().append('<option value="">Select SubCategory</option>');

//             if (categoryId) {
//                 $.ajax({
//                     url: '/Product/GetSubCategories/' + categoryId,
//                     type: 'GET',
//                     dataType: 'json',
//                     success: function (data) {
//                         if (Array.isArray(data)) {
//                             $.each(data, function (index, subCategory) {
//                                 $subCategoryDropdown.append(
//                                     $('<option>', { value: subCategory.Id, text: subCategory.Name })
//                                 );
//                             });
//                         } else {
//                             console.error('Expected an array of subcategories.');
//                         }
//                     },
//                     error: function (xhr, status, error) {
//                         console.error('Error fetching subcategories:', error);
//                     }
//                 });
//             }
//         });
//     });

// </script>
 *@

<style>

    .form-control {
        border: 1px solid grey;
    }

    .bordered-input {
        border: 1px solid grey;
        border-radius: 3px;
    }
</style>